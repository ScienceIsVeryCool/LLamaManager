{
  "scenario": {
    "name": "Competitive Cellular Automata Development",
    "version": "1.0",
    "description": "Two junior developers compete to create the best cellular automata simulation with iterative feedback"
  },
  
  "agentTemplates": {
    "optimisticDev": {
      "model": "gemma3:4b",
      "temperature": 0.8,
      "systemPrompt": "You are an enthusiastic junior developer who loves experimenting with creative visual effects. You tend to favor colorful, dynamic solutions and enjoy using cutting-edge libraries. You write Python code with lots of comments explaining your excitement about each feature. You believe in 'go big or go home' and love adding extra visual flair.",
      "defaultContext": "rolling"
    },
    "pragmaticDev": {
      "model": "gemma3:4b",
      "temperature": 0.6,
      "systemPrompt": "You are a methodical junior developer who values clean, efficient code. You prefer well-tested libraries and established patterns. You write Python code with a focus on performance and maintainability. You believe in 'keep it simple, stupid' and optimize for clarity and speed. You're skeptical of unnecessary features.",
      "defaultContext": "rolling"
    },
    "seniorReviewer": {
      "model": "gemma3:4b",
      "temperature": 0.3,
      "systemPrompt": "You are a Senior Engineer evaluating competing implementations. You value both creativity and practicality. Be direct about strengths and weaknesses. Consider performance, visual appeal, code quality, and how well the solution meets requirements. Pick a winner but give balanced feedback to both developers.",
      "defaultContext": "rolling"
    }
  },
  
  "actionTemplates": {
    "initialDesign": {
      "promptTemplate": "Design a Python cellular automata simulation with these requirements:\n\n1. Must use matplotlib or similar for visualization\n2. Should leverage numpy or other libraries for performance\n3. Must run indefinitely (no stop condition except extinction)\n4. Should show interesting emergent behavior\n5. Include real-time visualization that updates smoothly\n6. Initial state should lead to interesting evolution\n\nProvide complete, runnable code. Focus on {{approach}}."
    },
    "compareImplementations": {
      "promptTemplate": "Compare these two cellular automata implementations:\n\n=== OPTIMISTIC DEVELOPER'S CODE ===\n{{code1}}\n\n=== PRAGMATIC DEVELOPER'S CODE ===\n{{code2}}\n\nEvaluate based on:\n1. Visual appeal and user experience\n2. Performance and efficiency\n3. Code quality and maintainability\n4. Meeting the requirement of running indefinitely\n5. Emergent behavior complexity\n\nPick a winner and explain why. Give specific feedback for each developer on what they did well and what needs improvement."
    },
    "provideIterationGuidance": {
      "promptTemplate": "Based on your comparison, provide specific guidance for the next iteration:\n\n1. What should the optimistic developer focus on improving?\n2. What should the pragmatic developer focus on improving?\n3. What specific features or changes would make each implementation better?\n4. Are there ideas from one implementation that the other should consider?\n\nBe specific and actionable. This is iteration {{iteration}} of 3."
    },
    "improveBasedOnFeedback": {
      "promptTemplate": "Your previous implementation received this feedback:\n\n{{feedback}}\n\nImprove your cellular automata simulation addressing the specific points raised. Maintain your coding style but incorporate the suggestions. Remember:\n- Must run indefinitely (only stop on extinction)\n- Focus on smooth visualization\n- Show interesting emergent patterns\n\nProvide the complete improved implementation."
    },
    "finalJudgment": {
      "promptTemplate": "This is the final comparison. Evaluate the latest implementations:\n\n=== OPTIMISTIC DEVELOPER'S FINAL CODE ===\n{{code1}}\n\n=== PRAGMATIC DEVELOPER'S FINAL CODE ===\n{{code2}}\n\nProvide:\n1. Final winner and detailed reasoning\n2. What each developer did best throughout the iterations\n3. Key lessons learned from this competition\n4. Which approach would you recommend for production use and why"
    }
  },
  
  "execution": [
    {
      "action": "createAgent",
      "params": {
        "template": "optimisticDev",
        "instanceName": "optimistic"
      }
    },
    {
      "action": "createAgent",
      "params": {
        "template": "pragmaticDev",
        "instanceName": "pragmatic"
      }
    },
    {
      "action": "createAgent",
      "params": {
        "template": "seniorReviewer",
        "instanceName": "reviewer"
      }
    },
    {
      "action": "initialDesign",
      "agent": "optimistic",
      "params": {
        "approach": "maximum visual impact with colorful, dynamic effects"
      },
      "output": "optimistic_v1"
    },
    {
      "action": "initialDesign",
      "agent": "pragmatic",
      "params": {
        "approach": "clean, efficient implementation with optimal performance"
      },
      "output": "pragmatic_v1"
    },
    {
      "action": "loop",
      "iterations": 3,
      "steps": [
        {
          "action": "compareImplementations",
          "agent": "reviewer",
          "params": {
            "code1": "{{lastOutput('optimistic')}}",
            "code2": "{{lastOutput('pragmatic')}}"
          },
          "output": "comparison_{{iteration}}"
        },
        {
          "action": "provideIterationGuidance",
          "agent": "reviewer",
          "params": {
            "iteration": "{{iteration}}"
          },
          "output": "guidance_{{iteration}}"
        },
        {
          "action": "improveBasedOnFeedback",
          "agent": "optimistic",
          "params": {
            "feedback": "{{lastOutput('reviewer')}}"
          },
          "output": "optimistic_v{{iteration}}_improved"
        },
        {
          "action": "improveBasedOnFeedback",
          "agent": "pragmatic",
          "params": {
            "feedback": "{{lastOutput('reviewer')}}"
          },
          "output": "pragmatic_v{{iteration}}_improved"
        },
        {
          "action": "clearContext",
          "agent": "reviewer"
        }
      ]
    },
    {
      "action": "finalJudgment",
      "agent": "reviewer",
      "params": {
        "code1": "{{lastOutput('optimistic')}}",
        "code2": "{{lastOutput('pragmatic')}}"
      },
      "output": "final_judgment"
    },
    {
      "action": "saveToFile",
      "params": {
        "content": "# Optimistic Developer's Final Implementation\n\n{{lastOutput('optimistic')}}",
        "filename": "cellular_automata_optimistic.py",
        "format": "python"
      }
    },
    {
      "action": "saveToFile",
      "params": {
        "content": "# Pragmatic Developer's Final Implementation\n\n{{lastOutput('pragmatic')}}",
        "filename": "cellular_automata_pragmatic.py",
        "format": "python"
      }
    },
    {
      "action": "saveToFile",
      "params": {
        "content": "# Competition Results and Analysis\n\n{{outputs.final_judgment}}\n\n## Iteration History\n\n### Iteration 1\n{{outputs.comparison_1}}\n\n{{outputs.guidance_1}}\n\n### Iteration 2\n{{outputs.comparison_2}}\n\n{{outputs.guidance_2}}\n\n### Iteration 3\n{{outputs.comparison_3}}\n\n{{outputs.guidance_3}}",
        "filename": "competition_analysis.md"
      }
    }
  ],
  
  "config": {
    "logLevel": "info",
    "saveIntermediateOutputs": true,
    "outputDirectory": "./cellular_competition_results",
    "queryTimeout": 1000
  }
}