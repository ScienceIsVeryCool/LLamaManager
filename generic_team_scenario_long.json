{
  "scenario": {
    "name": "Generic Iterative Problem Solving",
    "version": "1.0",
    "description": "A generalized workflow for tackling any task with a small team of agents who provide feedback from different perspectives."
  },
  "agentTemplates": {
    "pragmatic_doer": {
      "model": "deepseek-r1:32b",
      "temperature": 0.7,
      "systemPrompt": "You are Bob, a pragmatic and resourceful team member. Your focus is on producing a complete and functional initial solution based on the prompt. You are a practical doer who values getting a solid first version done efficiently.",
      "defaultContext": "rolling"
    },
    "visionary_strategist": {
      "model": "deepseek-r1:32b",
      "temperature": 0.5,
      "systemPrompt": "You are Mike, a visionary and strategic thinker. You review proposals for high-level alignment with the task's goals, innovation, and potential. You provide broad, insightful feedback to ensure the solution is not just functional, but also forward-thinking."
    },
    "detail_oriented_analyst": {
      "model": "deepseek-r1:32b",
      "temperature": 0.2,
      "systemPrompt": "You are Lexi, a meticulous and analytical reviewer. You scrutinize every detail of a proposal for flaws, inconsistencies, and logical errors. Your feedback is direct, precise, and focused on ensuring the solution is robust and correct."
    }
  },
  "actionTemplates": {
    "proposeInitialSolution": {
      "promptTemplate": "Here is the task: {{task}}\n\nPlease provide a complete, well-structured initial solution. This is the first draft, so focus on getting a solid and functional foundation in place that meets all the core requirements."
    },
    "provideHighLevelFeedback": {
      "promptTemplate": "Review the following solution from a high-level, strategic perspective. Does it align with the original spirit of the task? Is it innovative? What are its core strengths and weaknesses? Are there any missed opportunities?\n\nSolution to Review:\n{{solution}}"
    },
    "conductDetailedAnalysis": {
      "promptTemplate": "Perform a detailed, critical analysis of the following solution. Scrutinize it for flaws, inconsistencies, errors, and potential risks. Be meticulous, direct, and specific in your feedback.\n\nSolution to Review:\n{{solution}}"
    },
    "refineSolutionWithFeedback": {
      "promptTemplate": "Revise the original solution by thoroughly incorporating the following feedback from your team. Address every point raised. Provide only the complete, updated version of the solution.\n\nOriginal Solution:\n{{solution}}\n\n---CONSOLIDATED FEEDBACK---\n{{feedback}}\n---END FEEDBACK---"
    }
  },
  "execution": [
    {
      "action": "createAgent",
      "params": { "template": "pragmatic_doer", "instanceName": "Bob" }
    },
    {
      "action": "createAgent",
      "params": { "template": "visionary_strategist", "instanceName": "Mike" }
    },
    {
      "action": "createAgent",
      "params": { "template": "detail_oriented_analyst", "instanceName": "Lexi" }
    },
    {
      "id": "01_initial_proposal",
      "action": "proposeInitialSolution",
      "agent": "Bob",
      "params": {
        "task": "Write me a short automata evolution simulation python script using large open source libraries to help keep your code robust. Aim for the execution to run indefinitely except if there is an extinction. Make sure it is bug free. show live visualizations via a 2D grid. Do not replicate Conway's Game of Life"
      },
      "output": "initial_solution"
    },
    {
      "id": "02a_visionary_review",
      "action": "provideHighLevelFeedback",
      "agent": "Mike",
      "params": {
        "solution": "{{outputs.initial_solution}}"
      },
      "output": "review_feedback_visionary"
    },
    {
      "id": "02b_analyst_review",
      "action": "conductDetailedAnalysis",
      "agent": "Lexi",
      "params": {
        "solution": "{{outputs.initial_solution}}"
      },
      "output": "review_feedback_analyst"
    },
    {
      "action": "loop",
      "iterations": 1,
      "steps": [
        {
          "id": "revision_loop_{{iteration}}",
          "action": "refineSolutionWithFeedback",
          "agent": "Bob",
          "params": {
            "solution": "{{lastOutput('Bob')}}",
            "feedback": "High-Level Feedback from Mike:\n{{lastOutput('Mike')}}\n\nDetailed Feedback from Lexi:\n{{lastOutput('Lexi')}}"
          },
          "output": "revision_{{iteration}}"
        },
        {
          "id": "visionary_review_loop_{{iteration}}",
          "action": "provideHighLevelFeedback",
          "agent": "Mike",
          "params": {
            "solution": "{{lastOutput('Bob')}}"
          },
          "output": "review_visionary_loop_{{iteration}}"
        },
        {
          "id": "analyst_review_loop_{{iteration}}",
          "action": "conductDetailedAnalysis",
          "agent": "Lexi",
          "params": {
            "solution": "{{lastOutput('Bob')}}"
          },
          "output": "review_analyst_loop_{{iteration}}"
        }
      ]
    },
    {
      "action": "saveToFile",
      "params": {
        "content": "# FINAL SOLUTION \n\n{{lastOutput('Bob')}}",
        "filename": "final_solution.md"
      }
    },
    {
      "action": "saveToFile",
      "params": {
        "content": "# FINAL HIGH-LEVEL FEEDBACK \n\n{{lastOutput('Mike')}}\n\n## FINAL DETAILED ANALYSIS \n\n{{lastOutput('Lexi')}}",
        "filename": "final_feedback.md"
      }
    }
  ],
  "config": {
    "logLevel": "info",
    "saveIntermediateOutputs": true,
    "outputDirectory": "./generic_results_long",
    "queryTimeout": 3600
  }
}
